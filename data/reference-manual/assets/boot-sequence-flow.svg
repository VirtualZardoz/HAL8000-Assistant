<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 800">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="800" y="30" font-family="system-ui, sans-serif" font-size="22" font-weight="bold" fill="#1a1a1a" text-anchor="middle">HAL8000 Boot Sequence</text>

  <!-- Row 1: Start → Step 1 → Step 2 -->

  <!-- Start -->
  <ellipse cx="100" cy="100" rx="80" ry="45" fill="#e3f2fd" stroke="#1976d2" stroke-width="3"/>
  <text x="100" y="95" font-family="system-ui, sans-serif" font-size="15" font-weight="bold" fill="#1a1a1a" text-anchor="middle">New Session</text>
  <text x="100" y="113" font-family="system-ui, sans-serif" font-size="13" fill="#1a1a1a" text-anchor="middle">CPU Start</text>

  <line x1="180" y1="100" x2="250" y2="100" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Step 1: System Init -->
  <rect x="250" y="50" width="240" height="100" fill="#fff3e0" stroke="#e65100" stroke-width="2" rx="5"/>
  <text x="370" y="75" font-family="system-ui, sans-serif" font-size="15" font-weight="bold" fill="#1a1a1a" text-anchor="middle">STEP 1: System Init</text>
  <text x="370" y="98" font-family="Monaco, monospace" font-size="12" fill="#333" text-anchor="middle">Read CLAUDE.md (BIOS)</text>
  <text x="370" y="116" font-family="Monaco, monospace" font-size="12" fill="#333" text-anchor="middle">Understand architecture</text>
  <text x="370" y="134" font-family="Monaco, monospace" font-size="11" fill="#666" text-anchor="middle">CORE FILE</text>

  <line x1="490" y1="100" x2="560" y2="100" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Step 2: Load State -->
  <rect x="560" y="50" width="240" height="100" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="5"/>
  <text x="680" y="75" font-family="system-ui, sans-serif" font-size="15" font-weight="bold" fill="#1a1a1a" text-anchor="middle">STEP 2: Load State</text>
  <text x="680" y="98" font-family="Monaco, monospace" font-size="12" fill="#333" text-anchor="middle">Read .claude/state.json</text>
  <text x="680" y="116" font-family="Monaco, monospace" font-size="12" fill="#333" text-anchor="middle">Extract: phase, session, etc</text>
  <text x="680" y="134" font-family="Monaco, monospace" font-size="11" fill="#666" text-anchor="middle">CORE FILE - REQUIRED</text>

  <!-- Arrow down to error check -->
  <line x1="680" y1="150" x2="680" y2="200" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Row 2: Core File Check -->

  <!-- Core File Check Diamond -->
  <polygon points="680,200 760,260 680,320 600,260" fill="#fff9c4" stroke="#f57f17" stroke-width="2"/>
  <text x="680" y="253" font-family="system-ui, sans-serif" font-size="13" font-weight="bold" fill="#1a1a1a" text-anchor="middle">Core files</text>
  <text x="680" y="272" font-family="system-ui, sans-serif" font-size="13" font-weight="bold" fill="#1a1a1a" text-anchor="middle">loaded?</text>

  <!-- No → ABORT -->
  <line x1="600" y1="260" x2="500" y2="260" stroke="#c62828" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="540" y="252" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#c62828">No</text>

  <rect x="300" y="220" width="200" height="80" fill="#ffebee" stroke="#c62828" stroke-width="3" rx="5"/>
  <text x="400" y="245" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#c62828" text-anchor="middle">ABORT BOOT</text>
  <text x="400" y="265" font-family="Monaco, monospace" font-size="12" fill="#333" text-anchor="middle">Report failure</text>
  <text x="400" y="283" font-family="Monaco, monospace" font-size="12" fill="#333" text-anchor="middle">Request user help</text>

  <!-- Yes → Continue -->
  <line x1="760" y1="260" x2="850" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="795" y="252" font-family="system-ui, sans-serif" font-size="12" fill="#666">Yes</text>

  <!-- Step 3: Note Session -->
  <rect x="850" y="210" width="220" height="100" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="5"/>
  <text x="960" y="235" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#1a1a1a" text-anchor="middle">STEP 3: Note Session</text>
  <text x="960" y="255" font-family="Monaco, monospace" font-size="11" fill="#333" text-anchor="middle">IF active_session exists:</text>
  <text x="960" y="273" font-family="Monaco, monospace" font-size="11" fill="#333" text-anchor="middle">Note path, DON'T load</text>
  <text x="960" y="291" font-family="Monaco, monospace" font-size="11" fill="#666" text-anchor="middle">(Saves RAM, user choice)</text>

  <line x1="1070" y1="260" x2="1140" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Step 4: Boot Acknowledgment -->
  <rect x="1140" y="210" width="220" height="100" fill="#e1f5fe" stroke="#0277bd" stroke-width="2" rx="5"/>
  <text x="1250" y="235" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#1a1a1a" text-anchor="middle">STEP 4: Boot Ack</text>
  <text x="1250" y="255" font-family="Monaco, monospace" font-size="11" fill="#333" text-anchor="middle">Display status tree</text>
  <text x="1250" y="273" font-family="Monaco, monospace" font-size="11" fill="#333" text-anchor="middle">Cite loaded values</text>
  <text x="1250" y="291" font-family="Monaco, monospace" font-size="11" fill="#666" text-anchor="middle">(Verification proof)</text>

  <!-- Arrow down to optional check -->
  <line x1="1250" y1="310" x2="1250" y2="360" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Row 3: Optional File Check -->

  <!-- Optional File Check Diamond -->
  <polygon points="1250,360 1330,420 1250,480 1170,420" fill="#fff9c4" stroke="#f57f17" stroke-width="2"/>
  <text x="1250" y="413" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#1a1a1a" text-anchor="middle">Optional files</text>
  <text x="1250" y="432" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#1a1a1a" text-anchor="middle">loaded?</text>

  <!-- No → DEGRADED -->
  <line x1="1170" y1="420" x2="1060" y2="420" stroke="#ef6c00" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="1105" y="412" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#ef6c00">No</text>

  <rect x="850" y="380" width="210" height="80" fill="#fff3e0" stroke="#ef6c00" stroke-width="3" rx="5"/>
  <text x="955" y="405" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#ef6c00" text-anchor="middle">DEGRADED MODE</text>
  <text x="955" y="425" font-family="Monaco, monospace" font-size="11" fill="#333" text-anchor="middle">Warn user</text>
  <text x="955" y="443" font-family="Monaco, monospace" font-size="11" fill="#333" text-anchor="middle">Continue with limits</text>

  <!-- Both paths converge down -->
  <line x1="955" y1="460" x2="955" y2="540" stroke="#333" stroke-width="2"/>
  <line x1="955" y1="540" x2="1250" y2="540" stroke="#333" stroke-width="2"/>

  <!-- Yes → OPERATIONAL -->
  <line x1="1330" y1="420" x2="1420" y2="420" stroke="#2e7d32" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="1365" y="412" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#2e7d32">Yes</text>

  <rect x="1420" y="380" width="160" height="80" fill="#e8f5e9" stroke="#2e7d32" stroke-width="3" rx="5"/>
  <text x="1500" y="410" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#2e7d32" text-anchor="middle">OPERATIONAL</text>
  <text x="1500" y="430" font-family="Monaco, monospace" font-size="11" fill="#333" text-anchor="middle">All files loaded</text>
  <text x="1500" y="448" font-family="Monaco, monospace" font-size="11" fill="#333" text-anchor="middle">Full functionality</text>

  <line x1="1500" y1="460" x2="1500" y2="540" stroke="#333" stroke-width="2"/>
  <line x1="1500" y1="540" x2="1250" y2="540" stroke="#333" stroke-width="2"/>

  <!-- Converge to Ready -->
  <line x1="1250" y1="540" x2="1250" y2="590" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Row 4: Ready -->

  <!-- Ready State -->
  <ellipse cx="1250" cy="640" rx="100" ry="50" fill="#e3f2fd" stroke="#1976d2" stroke-width="3"/>
  <text x="1250" y="630" font-family="system-ui, sans-serif" font-size="16" font-weight="bold" fill="#1976d2" text-anchor="middle">READY</text>
  <text x="1250" y="652" font-family="system-ui, sans-serif" font-size="13" fill="#1a1a1a" text-anchor="middle">Awaiting user</text>
  <text x="1250" y="670" font-family="system-ui, sans-serif" font-size="13" fill="#1a1a1a" text-anchor="middle">instructions</text>

  <!-- Legend -->
  <rect x="50" y="700" width="1500" height="80" fill="#f5f5f5" stroke="#999" stroke-width="1" rx="5"/>
  <text x="800" y="725" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#1a1a1a" text-anchor="middle">Boot Flow Summary</text>
  <text x="800" y="748" font-family="system-ui, sans-serif" font-size="12" fill="#333" text-anchor="middle">Init → Load State → Check Core Files (fail=ABORT) → Note Session → Boot Ack → Check Optional Files (fail=DEGRADED, pass=OPERATIONAL) → READY</text>
  <text x="800" y="768" font-family="system-ui, sans-serif" font-size="11" fill="#666" text-anchor="middle">Core files: CLAUDE.md, state.json | Optional files: Session files, commands, architecture docs</text>
</svg>
